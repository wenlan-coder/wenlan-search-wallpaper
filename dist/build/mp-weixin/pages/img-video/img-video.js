"use strict";var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,n=require("../../common/vendor.js");const s={components:{},data:()=>({items:[{title:"最新",order:"new"},{title:"热门",order:"hot"}],current:0,params:{limit:30,skip:0,order:"new"},id:0,vertical:[],hasMore:!0}),onLoad(e){this.id=e.id,this.getList()},computed:{},methods:{onClickItem(e){this.current!==e.currentIndex&&(this.current=e.currentIndex,this.params.order=this.items[e.currentIndex].order,this.params.skip=0,this.vertical=[],this.getList())},getList(){this.$request.get(`/v1/vertical/category/${this.id}/vertical`,((e,n)=>{for(var s in n||(n={}))r.call(n,s)&&i(e,s,n[s]);if(t)for(var s of t(n))o.call(n,s)&&i(e,s,n[s]);return e})({},this.params)).then((e=>{if(console.log(e),0===e.res.vertical.length)return this.hasMore=!1,void n.index.showToast({title:"没有更多数据了",icon:"none"});this.vertical=[...this.vertical,...e.res.vertical]}))},handleScrolltolower(){this.hasMore?(this.params.skip+=this.params.limit,this.getList()):n.index.showToast({title:"没有更多数据了",icon:"none"})}},watch:{},onReady(){},onShow(){},onHide(){},onUnload(){},onPullDownRefresh(){n.index.stopPullDownRefresh()},onReachBottom(){}};if(!Array){n.resolveComponent("uni-segmented-control")()}Math;var a=n._export_sfc(s,[["render",function(e,t,r,o,i,s){return{a:n.o(s.onClickItem),b:n.p({values:e.items.map((e=>e.title)),current:e.current,"style-type":"text","active-color":"#4cd964"}),c:n.f(e.vertical,((e,t,r)=>({a:e.thumb,b:e.id}))),d:n.o(((...e)=>s.handleScrolltolower&&s.handleScrolltolower(...e)))}}],["__scopeId","data-v-0c9141c4"]]);s.__runtimeHooks=3,wx.createPage(a);
