"use strict";var e=Object.defineProperty,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(o,n,t)=>n in o?e(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t,r=require("../../common/vendor.js");const c={data:()=>({userInfo:{}}),methods:{getUserInfo(){console.log("this执",this);let e=this;r.index.getSetting({success(c){r.index.showModal({title:"授权提醒",content:"请授权头像等信息，以便为您提供更好的服务",cancelText:"随便逛逛",confirmText:"确认授权",success:function(c){c.confirm?(console.log("this执",this),r.index.getUserProfile({desc:"用于完善会员资料",lang:"zh_CN",success:c=>{console.log("授权信息",c),e.userInfo=((e,r)=>{for(var c in r||(r={}))n.call(r,c)&&s(e,c,r[c]);if(o)for(var c of o(r))t.call(r,c)&&s(e,c,r[c]);return e})({},c.userInfo),r.index.login({provider:"weixin",success:e=>{console.log(e),console.log("code",e.code)},fail:()=>{r.index.showToast({title:"微信登录授权失败",icon:"none"})}})}})):c.cancel&&r.index.showToast({title:"用户取消授权",icon:"none"})}})}})}}};if(!Array){r.resolveComponent("uni-icons")()}Math;var i=r._export_sfc(c,[["render",function(e,o,n,t,s,c){return r.e({a:0===Object.keys(e.userInfo).length},0===Object.keys(e.userInfo).length?{b:r.p({type:"contact-filled",size:"100",color:"#AFAFAF"}),c:r.o(((...e)=>c.getUserInfo&&c.getUserInfo(...e)))}:{},{d:Object.keys(e.userInfo).length>0},Object.keys(e.userInfo).length>0?{e:r.t(e.userInfo.nickName),f:e.userInfo.avatarUrl}:{})}],["__scopeId","data-v-1fe45516"]]);wx.createPage(i);
