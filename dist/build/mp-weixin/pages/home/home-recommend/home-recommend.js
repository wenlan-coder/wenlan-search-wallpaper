"use strict";var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,o,s)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s,i=require("../../../common/vendor.js");const r={components:{goDetail:()=>"../../../components/go-detail.js"},data:()=>({recommends:[],monthes:{},hots:[],params:{limit:30,order:"hot",skip:0},hasMore:!0}),computed:{},methods:{getList(){this.$request.get("/v3/homepage/vertical",((e,i)=>{for(var r in i||(i={}))o.call(i,r)&&n(e,r,i[r]);if(t)for(var r of t(i))s.call(i,r)&&n(e,r,i[r]);return e})({},this.params)).then((e=>{if(0===e.res.vertical.length)return this.hasMore=!1,void i.index.showToast({title:"没有更多数据了",icon:"none"});0===this.recommends.length&&(this.recommends=e.res.homepage[1].items,this.monthes=e.res.homepage[2],this.monthes.MM=i.dayjs(this.monthes.stime).format("MM"),this.monthes.DD=i.dayjs(this.monthes.stime).format("DD"),console.log(this.monthes)),this.hots=[...this.hots,...e.res.vertical],console.log("@@",this.hots)})).catch((e=>{console.log(e.message)}))},handleToLower(){this.hasMore?(this.params.skip+=this.params.limit,this.getList()):i.index.showToast({title:"没有数据了",icon:"none"})}},watch:{},mounted(){i.index.setNavigationBarTitle({title:"推荐"}),this.getList()},onLoad(){},onReady(){},onShow(){},onHide(){},onUnload(){},onPullDownRefresh(){i.index.stopPullDownRefresh()},onReachBottom(){}};if(!Array){i.resolveComponent("go-detail")()}var h=i._export_sfc(r,[["render",function(e,t,o,s,n,r){return i.e({a:e.recommends.length>0},e.recommends.length>0?{b:i.f(e.recommends,((e,t,o)=>({a:e.thumb,b:e.id,c:`/pages/album/album?id=${e.target}`}))),c:i.t(e.monthes.DD),d:i.t(e.monthes.MM),e:i.t(e.monthes.title),f:i.f(e.monthes.items,((t,o,s)=>({a:t.thumb+t.rule.replace("$<Height>",360),b:"260917eb-0-"+s,c:i.p({index:o,list:e.monthes.items}),d:t.id}))),g:i.f(e.hots,((t,o,s)=>({a:t.thumb,b:"260917eb-1-"+s,c:i.p({index:o,list:e.hots}),d:t.id}))),h:i.o(((...e)=>r.handleToLower&&r.handleToLower(...e)))}:{})}],["__scopeId","data-v-260917eb"]]);wx.createComponent(h);
