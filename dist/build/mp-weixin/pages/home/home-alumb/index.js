"use strict";var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,r=require("../../../common/vendor.js");const s={components:{},data:()=>({params:{limit:30,order:"new",skip:0},banner:[],album:[],hasMore:!0}),computed:{},methods:{getList(){this.$request.get("/v1/wallpaper/album",((e,r)=>{for(var s in r||(r={}))o.call(r,s)&&n(e,s,r[s]);if(t)for(var s of t(r))a.call(r,s)&&n(e,s,r[s]);return e})({},this.params)).then((e=>{if(0===e.res.album.length)return this.hasMore=!1,void r.index.showToast({title:"没有更多数据了",icon:"none"});0===this.album.length&&(this.banner=e.res.banner),this.album=[...this.album,...e.res.album]})).catch((e=>{console.log(e.message)}))},handleToLower(){console.log("武汉加油！！"),this.hasMore?(this.params.skip+=this.params.limit,this.getList()):r.index.showToast({title:"没有数据了",icon:"none"})}},watch:{},mounted(){r.index.setNavigationBarTitle({title:"专辑"}),this.getList()},onLoad(){},onReady(){},onShow(){},onHide(){},onUnload(){},onPullDownRefresh(){r.index.stopPullDownRefresh()},onReachBottom(){}};var i=r._export_sfc(s,[["render",function(e,t,o,a,n,s){return{a:r.f(e.banner,((e,t,o)=>({a:e.thumb,b:e.id}))),b:r.f(e.album,((e,t,o)=>({a:e.cover,b:r.t(e.name),c:r.t(e.desc),d:e.id,e:`/pages/album/album?id=${e.id}`}))),c:r.o(((...e)=>s.handleToLower&&s.handleToLower(...e)))}}],["__scopeId","data-v-6c643f0a"]]);wx.createComponent(i);
