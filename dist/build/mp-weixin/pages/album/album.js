"use strict";var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,s=require("../../common/vendor.js");const l={components:{},data:()=>({params:{limit:30,order:"new",skip:0,first:1},id:-1,album:{},wallpaper:[],hasMore:!0}),computed:{},methods:{getList(){this.$request.get(`/v1/wallpaper/album/${this.id}/wallpaper`,((e,s)=>{for(var l in s||(s={}))a.call(s,l)&&r(e,l,s[l]);if(t)for(var l of t(s))o.call(s,l)&&r(e,l,s[l]);return e})({},this.params)).then((e=>{if(console.log(e),0===Object.keys(this.album).length&&(this.album=e.res.album),0===e.res.wallpaper.length)return this.hasMore=!1,void s.index.showToast({title:"没有更多数据了",icon:"none"});this.wallpaper=[...this.wallpaper,...e.res.wallpaper]})).catch((e=>{console.log(e.message)}))},onReachBottom(){console.log("我也是有底线的"),this.hasMore?(this.params.first=0,this.params.skip+=this.params.limit,this.getList()):s.index.showToast({title:"没有更多数据了",icon:"none"})}},watch:{},onLoad(e){console.log(e),this.id=e.id,this.getList()},onReady(){},onShow(){},onHide(){},onUnload(){},onPullDownRefresh(){s.index.stopPullDownRefresh()},onReachBottom(){}};if(!Array){s.resolveComponent("go-detail")()}var i=s._export_sfc(l,[["render",function(e,t,a,o,r,l){return{a:e.album.cover,b:s.t(e.album.name),c:e.album.user.avatar,d:s.t(e.album.user.name),e:s.t(e.album.desc),f:s.f(e.wallpaper,((t,a,o)=>({a:t.thumb+t.rule.replace("$<Height>",360),b:"6fd3be55-0-"+o,c:s.p({list:e.wallpaper,index:a}),d:t.id})))}}],["__scopeId","data-v-6fd3be55"]]);l.__runtimeHooks=3,wx.createPage(i);
